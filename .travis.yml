dist: trusty

language: java

cache:
  directories:
    - $HOME/.m2

matrix:
  include:
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Pundertow-test
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Ptomcat-test
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Pjetty-test
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Dweld.version=3.0.0.Alpha17 -Dcdi-api.version=2.0-EDR2 -Dmaven.test.failure.ignore=true
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Ptomcat-test -Dweld.version=3.0.0.Alpha17 -Dcdi-api.version=2.0-EDR2 -Dmaven.test.failure.ignore=true
  - jdk: oraclejdk8
    script: mvn -q install -PWeld -Pjetty-test -Dmaven.test.failure.ignore=true -Dweld.version=3.0.0.Alpha17 -Dcdi-api.version=2.0-EDR2